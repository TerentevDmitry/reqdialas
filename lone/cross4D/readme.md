# 4D-Кроссворд

По сути это обычный кроссворд, который имеет пересечения между линиями (только нет понятия горизонтальная и вертикальная). Это сделано, так как для незрячих геометрия не так важна, важен принцип работы кроссворда - пересечения помогают отгадать другое слово. На входе имеется база вопросов и ответов, поэтому игровая сессия выглядит так:

```
Добро пожаловать в Кроссворд 4D!
Выберите режим:
1. Простой, сразу проверяем ответ
2. Реалистичный, как в классическом кроссворде
>1
Выберите размер:
1. Небольшой (10 слов, 2-3 пересечения)
2. Средняя (20 слов, 2 пересечения)
3. Большая (30 слов, 1-2 пересечения)
4. Помощь
>1
Отлично! Для ответа наберите команду `ответ слово`. Если возникают вопросы, наберите помощь
Cпортсмен, как правило, в возрасте 19-22 лет? Пять букв.
>не знаю
Команда не распознана, наберите помощь.
>ответ кракозябр
Неверная длина слова, ожидаемая длина - пять букв.
>ответ крака
Неверно! Попробуйте ещё раз.
>ответ юниор
Отлично! В вопросе 5 открылись две буквы.
Переходим к вопросу номер 2
Intel Pentium III принадлежит к ... поколению процессоров (цифра прописью)? 10 букв
>вопрос 5
Вопрос номер 5.
Австрийский футбольный клуб? Первая буква - р, четвёртая - и.
>ответ рапид
Верно подмечено! Вам открылась одна буква в вопросе 3, одна буква в вопросе 5
```

Основной момент - при решении вопроса открываются две буквы в новом слове.

**Команды**:

* ответ <текст> - проверяет результат

* вопрос  <номер> - переход по номеру вопроса

* помощь - текст справки

* инфо - сколько угадано слов, сколько нет, какие буквы открыты в вопросах

* список - вывести весь список вопросов, с сотрясением отвечено или нет.

* пересечение - вывести пересечение одного слова с другим

* выход - конец игры

В реалистичном режиме мы даём возможность записать неправильное слово, но оно автоматически отражается с помощью связей на другие. При этом могут затираться даже буквы правильного слова, ранее записанного.

### Генерация кроссворда

Алгоритм генерации достаточно простой:

```
инициализируем пустой список вопросов для игровой сессии
рандомно сортируем базу
выбираем первый вопрос из базы
делаем вопрос текущим
добавляем вопрос в сессию
пока список меньше заданного сложностью:
   ищем в текущем вопросе рандомно 2 буквы
   ищем в базе следующие вопросы, с совпадением 2-х букв в ответе (неповторяющиеся)
   добавляем ответ в сессию
   делаем текущим
конец пока
//пытаемся найти совпадения по буквам между последним словом и первым
//на этом этапе у нас есть в сесии список вопросов который связывает строго два слова
для всех вопросов в сесии:
  выбираем первую букву
  ищем свободную такую же букву во всех ответах, кроме следующего
  переставляем связь на это слово
конец пока
//таким образом тут будет связано уже поинтереснее
```

### Исходные данные

База взята с сайта [Скачать вопросы для викторины бесплатно архивом (viquiz.ru)](https://viquiz.ru/wiki/skachat-voprosy-viktoriny/). Обработана и в результате:

- [questions.csv](https://github.com/antlas1/reqdialas/tree/main/lone/cross4D/questions.csv)  - база вопросов в виде таблицы с разделителем `;`

- [questions.cpp](https://github.com/antlas1/reqdialas/tree/main/lone/cross4D/questions.cpp) - база вопросов в виде структуры данных для подключения в c++
